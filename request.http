@url = http://localhost:3000

@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJmb29iYXJAZXhhbXBsZS5jb20iLCJpYXQiOjE3NjMxMDk4MDgsImV4cCI6MTc2MzExMzQwOH0.wbvoNjECnmBwrU7oQoZTWUS-g3venSpZPjyk9YJpDm8


### Fetch recipe data from external API (HTML response to parse)
GET https://encuisine.adrienrossignol.fr/recette/41
Accept: text/html

# L'indicqteur de budget, temps de prepartion et difficulte figure dans la page html sous forme d'icones a compterr
# temps_rouge.svg = 2 icones = 2
# difficulte_rouge.svg = 2 icones = 2
# budget_rouges.svg = 2 icone = 2


### Athenticate and obtain JWT token or signup new user
### This step is optional if you already have a valid token

### Create new user
POST {{url}}/api/auth/local/register
Content-Type: application/json

{
  "username": "foobar",
  "email": "foobar@example.com",
  "password": "foobarpassword"
}

### Authenticate existing user

POST {{url}}/api/auth/local
Content-Type: application/json

{
  "identifier": "foobar@example.com",
  "password": "foobarpassword"
}

### Create new recette in Express API
POST {{url}}/api/recipes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "titre": "Poêlée de patate douce et feta",
  "temps_de_preparation": 2,
  "difficulte": 1,
  "budget": 1,
  "description": "Pelez les patates douces et coupez-les en petits cubes.Faites-les revenir dans une poêle 10 minutes avec un filet d'huile d'olive..."
}

### Cretate new recette for strapi
POST {{url}}/api/recipes
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "data": {
    "titre": "Poêlée de patate douce et feta",
    "temps_de_preparation": 2,
    "difficulte": 1,
    "budget": 1,
    "description": "Pelez les patates douces et coupez-les en petits cubes.Faites-les revenir dans une poêle 10 minutes avec un filet d'huile d'olive..."
  }
}

### Get all recipes to verify creation
GET {{url}}/api/recipes
Accept: application/json
Authorization: Bearer {{token}}

###

### Get specific recette by ID (replace {id} with actual ID)
GET {{url}}/api/recipes/1
Accept: application/json
Authorization: Bearer {{token}}


### Update specific recette by ID (replace {id} with actual ID)
PUT {{url}}/api/recipes/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "data": {
    "description": "Mise a jour de la description de la recette."
  }
}


### Delete specific recette by ID (replace {id} with actual ID)
DELETE {{url}}/api/recipes/1
Accept: application/json
Authorization: Bearer {{token}}

###
# ============================================
# INGREDIENTS ROUTES
# ============================================

### Get all ingredients
GET {{url}}/api/ingredients
Accept: application/json
Authorization: Bearer {{token}}

###

### Get specific ingredient by ID
GET {{url}}/api/ingredients/1
Accept: application/json
Authorization: Bearer {{token}}

###

### Create new ingredient
POST {{url}}/api/ingredients
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nom": "Patate douce"
}

###

### Update specific ingredient by ID
PUT {{url}}/api/ingredients/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "nom": "Patate douce bio"
}

###

### Delete specific ingredient by ID
DELETE {{url}}/api/ingredients/1
Accept: application/json
Authorization: Bearer {{token}}

###
# ============================================
# RECIPE-INGREDIENTS RELATIONSHIP ROUTES
# ============================================

### Get all ingredients for a specific recipe
GET {{url}}/api/recipe-ingredients/recipe/1/ingredients
Accept: application/json
Authorization: Bearer {{token}}

###

### Get all recipes using a specific ingredient
GET {{url}}/api/recipe-ingredients/ingredient/1/recipes
Accept: application/json
Authorization: Bearer {{token}}

###

### Add a single ingredient to a recipe
POST {{url}}/api/recipe-ingredients/recipe/1/ingredient/2
Authorization: Bearer {{token}}

###

### Add multiple ingredients to a recipe at once
POST {{url}}/api/recipe-ingredients/recipe/1/ingredients
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "ingredientIds": [1, 2, 3, 4]
}

###

### Remove a specific ingredient from a recipe
DELETE {{url}}/api/recipe-ingredients/recipe/1/ingredient/2
Authorization: Bearer {{token}}

###

### Remove all ingredients from a recipe
DELETE {{url}}/api/recipe-ingredients/recipe/1/ingredients
Authorization: Bearer {{token}}
